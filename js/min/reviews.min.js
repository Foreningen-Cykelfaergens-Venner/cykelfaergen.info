function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),i=n.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "===s.charAt(0);)
s=s.substring(1);if(0===s.indexOf(t))
return s.substring(t.length,s.length)}
return""}
const API_KEY="tvfF2OSNfdaPRHsV";const API_KEY_2="GCcwN2QG9EJ0n3PRZLnFhXAQvZ0X5Aek";const reviewsContainer=document.querySelectorAll(".reviewContainer");const MAX_STARS=5;const MIN_STARS=4;const month={da:["jan.","feb.","mar.","april","ma.","jun.","jul.","aug.","sept.","okt.","nov.","dec."],en:["Jan.","Feb.","Mar.","April","Ma.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."],de:["Jan.","Feb.","Mär.","April","Ma.","Jun.","Jul.","Aug.","Sept.","Okt.","Nov.","Dez."]};let language="da";let tpLocal="da-DK";if(getCookie("region")=="de-DE"||!getCookie("region")&&window.location.host.indexOf("fahrradfaehre.info")>-1){language="de";tpLocal="de-DE";}else if(getCookie("region")=="en-GB"||!getCookie("region")&&window.location.host.indexOf("bicycleferry.com")>-1){language="en";tpLocal="en-US";}
if(reviewsContainer!=null){reviewsContainer.forEach((reviewsContainer,i)=>{fetch("https://api.trustpilot.com/v1/business-units/610ed3ed70a16b001e886877/reviews?perPage=30&stars="+MIN_STARS+","+MAX_STARS+"&locale="+tpLocal+"&language="+language,{headers:{apikey:API_KEY_2}}).then((e)=>e.json()).then((e)=>{const Reviews=e.reviews;if(Reviews.lenght===0){if(language=="de"){reviewsContainer.innerHTML='<a class="trustpilot-review" href="https://de.trustpilot.com/evaluate/cykelfaergen.info" target="_blank">Bewerten Sie uns auf <img src="https://cdn.trustpilot.net/brand-assets/1.8.0/logo-black.svg" alt="Trustpilot"></a>';}else if(language=="en"){reviewsContainer.innerHTML='<a class="trustpilot-review" href="https://en.trustpilot.com/evaluate/cykelfaergen.info" target="_blank">Review us on <img src="https://cdn.trustpilot.net/brand-assets/1.8.0/logo-black.svg" alt="Trustpilot"></a>';}
return;}
fetch(e.links[0].href+"?locale="+language,{headers:{apikey:API_KEY_2}}).then((e)=>e.json()).then(e=>{const starImageUrl=e.links[3].href;fetch(e.links[2].href+"?locale="+tpLocal,{headers:{apikey:API_KEY_2}}).then((e)=>e.json()).then(e=>{const avgString=e.string;if(document.querySelectorAll(".trustScore-text")[i]!=undefined){document.querySelectorAll(".trustScore-text")[i].innerHTML=avgString;}
fetch(starImageUrl,{headers:{apikey:API_KEY_2}}).then((e)=>e.json()).then(e=>{document.querySelectorAll(".trustpilot-review-state")[i].innerHTML=`
                        <div style='display: flex; align-items:center;'>
                            <img class='trustpilot_avg' src="${e.star128x24.url}" title="${avgString}" alt="${avgString}" width="${e.star128x24.width}" height="${e.star128x24.height}">
                            <p class="tp-stars" style='margin-left:10px;'></p>
                        </div>`;})}).finally(()=>{const reviewsText=(language=="da")?"anmeldelser på":(language=="en")?"reviews on":"Bewertungen auf";const trustScore=e.score.trustScore;if(reviewsContainer!=null){document.querySelectorAll(".trustScore")[i].innerHTML=(language==="da")?"<p>Viser vores "+MIN_STARS+"- og "+MAX_STARS+"-stjernede anmeldelser</p>":(language==="en")?"<p>Showing our "+MIN_STARS+"- and "+MAX_STARS+"-stars reviews</p>":"<p>Hier werden unsere "+MIN_STARS+"- und "+MAX_STARS+"-Sterne-Bewertungen angezeigt</p>";document.querySelectorAll(".trustScore")[i].innerHTML+="<a href='https://"+((language==="da")?"dk":(language==="en")?"www":language)+".trustpilot.com/review/cykelfaergen.info?utm_medium=trustbox&utm_source=Carousel' target='_blank'>"+e.numberOfReviews.total+" "+reviewsText+" <img class='trustpilot-logo-reviews' alt='Trustpilot reviews' src='https://cdn.trustpilot.net/brand-assets/1.8.0/logo-white.svg'></a>";document.querySelector(".truspilot .elementor-star-rating").title=e.score.stars+` ${(language === "da") ? "ud af" : (language === "en") ? "out of" : "von"} 5`;document.querySelector(".truspilot .elementor-screen-only").innerText=e.score.stars+` ${(language === "da") ? "ud af" : (language === "en") ? "out of" : "von"} 5`;if(document.querySelectorAll(".tp-stars")[i]!=undefined){document.querySelectorAll(".tp-stars")[i].innerText=e.score.stars+` ${(language === "da") ? "ud af" : (language === "en") ? "out of" : "von"} 5`;}
if(document.querySelectorAll(".trustScoreTotal")[i]!=null||document.querySelectorAll(".trustScoreTotal")[i]!=undefined){document.querySelectorAll(".trustScoreTotal")[i].innerText+=trustScore;document.querySelectorAll(".trustScoreTotal")[i].title="Trustscore: "+trustScore;}}})})
Reviews.forEach(async(review)=>{const id=review.id;let expiernce;let createdAt;if(language=="en"){expiernce="Expierence: ";createdAt="Created at:";update="Updated: ";}else if(language=="de"){expiernce="Erlebt am: ";createdAt="Erstellt am: ";update="Aktualiseret: ";}else if(language=="da"){expiernce="Oplevet den: ";createdAt="Skrevet den: ";update="Opdateret: ";}
let experiencedAt=review.experiencedAt;let writtenAt=review.createdAt;let updatedAt=review.updatedAt;experiencedAt=expiernce+new Date(experiencedAt).getUTCDate()+" "+month[language][new Date(experiencedAt).getMonth()]+" "+new Date(experiencedAt).getFullYear();updatedAt=update+new Date(updatedAt).getUTCDate()+" "+month[language][new Date(updatedAt).getMonth()]+" "+new Date(updatedAt).getFullYear();const diff=Math.floor(new Date().getTime()-new Date(review.createdAt).getTime());const day=1000*60*60*24;const hours=Math.floor(new Date().getTime()-new Date(review.createdAt).getTime())/ 36e5;const days=Math.floor(diff/day);const months=Math.floor(days/31);const years=Math.floor(months/12);if(language=="en"){(days>1&&hours>24)?writtenAt=days+" days ago":writtenAt=days+" day ago";}else if(language=="de"){(days>1&&hours>24)?writtenAt=days+" Tage":writtenAt=days+" Tag";}else if(language=="da"){(days>1&&hours>24)?writtenAt=days+" dage":writtenAt=days+" dag";}
if(Math.floor(hours)<24){if(language=="en"){writtenAt=Math.floor(hours)+"h";}else if(language=="de"){writtenAt=Math.floor(hours)+"h";}else if(language=="da"){writtenAt=Math.floor(hours)+"h";}}
if(days>=31&&months<12){if(language=="en"){(months>1)?writtenAt=months+" months ago":writtenAt=months+" month ago";}else if(language=="de"){(months>1)?writtenAt=months+" Monaten":writtenAt=months+" Monat";}else if(language=="da"){(months>1)?writtenAt=months+" måneder":writtenAt=months+" måned";}}else if(months>=12){writtenAt=years+" year ago";if(language=="en"){(years>1)?writtenAt=years+" years ago":writtenAt=years+" year ago";}else if(language=="de"){(years>1)?writtenAt=years+" Jahre":writtenAt=years+" Jahr";}else if(language=="da"){writtenAt=years+" år";}}else if(years>2){writtenAt=createdAt+new Date(writtenAt).getUTCDate()+" "+month[language][new Date(writtenAt).getMonth()]+" "+new Date(writtenAt).getFullYear();}
if(review.experiencedAt==null){experiencedAt="";}
const ReviewTitle=review.title;const ReviewText=review.text;const Stars=review.stars;const consumer=review.consumer;if(review.reviewVerificationLevel=="invited"&&review.language=="de"){reviewVerificationLevel="Auf Einladung";}else if(review.reviewVerificationLevel=="invited"&&review.language=="da"){reviewVerificationLevel="inviteret";}else if(review.reviewVerificationLevel=="invited"&&review.language=="en"){reviewVerificationLevel=review.reviewVerificationLevel;}
let verified=(review.isVerified)?"<span class='verified-review'><i class='verified-review--checkmark'>&#10003;</i> "+reviewVerificationLevel+"</span>":"";const consumerLocation=consumer.displayLocation;const reviewerDisplayName=consumer.displayName;const profileImage=(consumer.links[1]!=undefined)?`<img src="${consumer.links[1].href}" loading="lazy" class="profileImage">`:"";reviewsContainer.innerHTML+=`
                    <blockquote class="intaSlides review" itemscope itemtype="https://schema.org/Review">
                        <a href="https://www.trustpilot.com/reviews/${review.id}" target="_blank" rel="noopener external" class="review-card">
                            <section class="review-stars" itemprop="reviewRating" itemscope itemtype="https://schema.org/Rating">
                                <div class="hidden" itemprop="ratingValue">${Stars}</div>
                                <img alt="Star rating: ${Stars} / 5" title="${Stars} / 5" width="128px" height="24px" class='starImage'>
                                ${verified}
                                <span class="writtenat">${writtenAt}</span>
                            </section>
                            <h3 itemprop="name" class="review-title">${ReviewTitle}</h3>
                            <p class="review-content">${ReviewText}</p>
                            <img src="https://cdn.trustpilot.net/brand-assets/1.8.0/logo-black.svg" class="review-logo">
                        </a>
                        <cite class="review-footer">
                            ${profileImage}
                            <p itemprop="author" itemscope itemtype="https://schema.org/Person"><span class="user" itemprop="name">${reviewerDisplayName}</span></p>
                        </cite>
                    </blockquote>`;if(reviewsContainer==null)return
document.querySelectorAll(".intaSliderContent").forEach((SliderContent,i)=>{if(SliderContent.children.length>1&&SliderContent.clientWidth+90>document.querySelectorAll(".Trustpilot-reviews")[i].clientWidth-document.querySelectorAll(".Trustpilot-reviews-header")[i].clientWidth){const nextBtn=document.querySelectorAll(".verticalScroll-btn.--next")[i];const prevBtn=document.querySelectorAll(".verticalScroll-btn.--prev")[i];const reviewSlides=document.querySelectorAll(".intaSlides");const offset=20;nextBtn.style.opacity=1;nextBtn.style.visibility="visible";nextBtn.addEventListener("click",()=>{if(document.querySelectorAll(".intaMiniContentSlider")[i].scrollLeft>0){prevBtn.style.opacity=1;prevBtn.style.visibility="";}
document.querySelectorAll(".intaMiniContentSlider")[i].scrollLeft+=reviewSlides[0].clientWidth+offset;})
prevBtn.addEventListener("click",()=>{document.querySelectorAll(".intaMiniContentSlider")[i].scrollLeft-=reviewSlides[0].clientWidth+offset;})
document.querySelectorAll(".intaMiniContentSlider")[i].addEventListener("scroll",function(){if(document.querySelectorAll(".intaMiniContentSlider")[i].scrollLeft==0){prevBtn.style.opacity=0;prevBtn.style.visibility="hidden";prevBtn.style.cursor="auto";}else{prevBtn.style.opacity=1;prevBtn.style.visibility="";prevBtn.style.cursor="pointer";}
if(Math.abs(document.querySelectorAll(".intaMiniContentSlider")[i].scrollLeft)===document.querySelectorAll(".intaMiniContentSlider")[i].scrollWidth-document.querySelectorAll(".intaMiniContentSlider")[i].clientWidth){nextBtn.style.opacity=0;nextBtn.style.visibility="hidden";nextBtn.style.cursor="auto";}else{nextBtn.style.opacity=1;nextBtn.style.visibility="";nextBtn.style.cursor="pointer";}});}else{const nextBtn=document.querySelectorAll(".verticalScroll-btn.--next")[i];const prevBtn=document.querySelectorAll(".verticalScroll-btn.--prev")[i];nextBtn.style.cursor="auto";prevBtn.style.cursor="auto";nextBtn.style.opacity=0;nextBtn.style.visibility="hidden";}})
fetch(review.links[2].href+"?language="+language,{headers:{apikey:API_KEY_2}}).then((e)=>e.json()).then((e)=>{StarImage(e);});})})
const StarImage=(img,starImage=document.querySelectorAll(".starImage"))=>{starImage.forEach((i)=>{i.src=img.star128x24.url;i.width=img.star128x24.width;i.height=img.star128x24.height;})}
const ProfileImage=(img,starImage=document.querySelectorAll(".profileImage"))=>{starImage.forEach((i)=>{i.src=img.profileImage.image24x24.url;i.width=img.profileImage.image24x24.width;i.height=img.profileImage.image24x24.height;})}
document.querySelectorAll(".intaSliderContent").forEach((SliderContent,i)=>{if(SliderContent.children.length===0){const nextBtn=document.querySelectorAll(".verticalScroll-btn.--next")[i];nextBtn.style.opacity=0;nextBtn.style.visibility="hidden";}})})}
function openReview(){if(document.querySelector('.send-review').open){document.querySelector(".send-review").close()
return false;}
document.querySelector('.send-review').showModal();}